"use strict";exports.id=7854,exports.ids=[7854],exports.modules={7854:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__,getStaticProps:()=>getStaticProps});var a=r(7101),i=r(6689),o=r(5609),s=r(5641),l=r(1908),c=r(1175),u=r(6929),d=r(2992),m=r(4524),p=r(9686),h=r(4933),y=r(8492),b=r(5812),x=e([a,s,l,d,m,p,h]);async function getStaticProps({params:e}){let{id:t}=e||{};return t&&""!==t&&await y.Z.prefetchQuery(["notice-detail",t],()=>(0,p.fq)({table:"notice",id:Number(t)})),{props:{dehydratedState:(0,c.dehydrate)(y.Z)}}}[a,s,l,d,m,p,h]=x.then?(await x)():x;let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,u.useRouter)(),{isAdmin:t,isClient:r}=(0,b.A)();(0,i.useEffect)(()=>{r&&!t&&e.push("/_admin")},[r]);let{id:n}=e.query,{data:y}=(0,c.useQuery)(["notice-detail",n],()=>(0,p.fq)({table:"notice",id:Number(n)}),{enabled:!!n}),createInquiry=e=>(0,p.tu)({table:"notice",...e}),updateInquiry=e=>(0,p.Xc)({table:"notice",id:Number(n),update:e}),x=o.object().shape({title:o.string().required(),content:o.string().required()}),f=(0,s.useForm)({mode:"onChange",resolver:(0,l.yupResolver)(x),defaultValues:{title:"",content:""}}),{reset:_,register:j,handleSubmit:g,setValue:q,formState:{errors:A}}=f;return(0,i.useEffect)(()=>{y?.data&&(q("title",y.data.title),q("content",y.data.content))},[y]),a.jsx(d.Z,{children:a.jsx(m.Z,{topImgSrc:"/images/cover_customer.webp",title:"고객지원",children:(0,a.jsxs)(h.B4,{children:[a.jsx(h.Vm,{htmlFor:"title",children:"제목"}),a.jsx("input",{type:"text",id:"title",...j("title"),className:A.title?"error":""}),a.jsx(h.Vm,{htmlFor:"content",children:"내용"}),a.jsx("textarea",{id:"content",...j("content"),className:A.content?"error":""}),(0,a.jsxs)(h.jK,{children:[a.jsx("button",{type:"button",children:"취소하기"}),a.jsx("button",{type:"submit",onClick:t=>(t.preventDefault(),n)?g(t=>updateInquiry(t).then(()=>{alert("수정 완료"),e.back(),setTimeout(()=>{location.reload()},200)}))():g(e=>createInquiry(e).then(()=>{alert("작성 완료"),_()}))(),children:"작성하기"})]})]})})})};n()}catch(e){n(e)}})},5812:(e,t,r)=>{r.d(t,{A:()=>useAdmin});var n=r(6689);let useAdmin=()=>{let[e,t]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{},[]),{isAdmin:e,isClient:r,logout:()=>{localStorage.removeItem("hansinAdmin"),t(!1)}}}}};